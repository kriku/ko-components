!function(e){var t=function(e){this.table=e,this.ctrl=e.getElementsByTagName("INPUT")[0],this.attachCtrl(),this.attachLines()};t.prototype.attachLines=function(){var e=this;EventUtil.addHandler(this.table,"click",function(){var t=EventUtil.getEvent(t),a=EventUtil.getTarget(t);if("TD"===a.tagName||"INPUT"===a.tagName){var c=a.parentNode.getElementsByTagName("INPUT")[0];"INPUT"!==a.tagName&&(c.checked=!c.checked)}e.selectLine(a.parentNode,c),EventUtil.stopPropagation(t),e.ctrl.checked&&(e.ctrl.checked=!1)})},t.prototype.attachCtrl=function(){var e=this,t=this.ctrl,a=e.table.getElementsByTagName("TR");EventUtil.addHandler(this.ctrl,"click",function(){var c,n,i,l=EventUtil.getEvent(l),s=a.length;for(i=1;s>i;i++)n=a[i],c=n.getElementsByTagName("INPUT")[0],c.checked=t.checked,e.selectLine(n,c);EventUtil.stopPropagation(l)})},t.prototype.selectLine=function(e,t){classie.has(e,"active")||classie.has(e,"warning")?t.checked?classie.change(e,"warning","active"):classie.change(e,"active","warning"):t.checked?classie.add(e,"info"):classie.remove(e,"info")},e.SelectableTable=t}(window);